(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[1],{228:function(t,e,a){"use strict";var n=a(0),r=a.n(n),i=a(397),c=a(398),o=a(399),l=a(400),s=a(208);e.a=r.a.memo((function(t){var e=Object(s.a)().t;return r.a.createElement("footer",{className:"fadeInUp",style:{animationDelay:"2s"}},r.a.createElement("h5",null,e("We stand with everyone fighting on the frontlines")),r.a.createElement("div",{className:"link"},r.a.createElement("a",{href:"https://github.com/covid19india",target:"_blank",rel:"noopener noreferrer"},"covid19india")),r.a.createElement("a",{href:"https://github.com/covid19india/covid19india-react",className:"button github",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(i.a,null),r.a.createElement("span",null,e("Open Sourced on GitHub"))),r.a.createElement("a",{className:"button excel",href:"http://patientdb.covid19india.org",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(c.a,null),r.a.createElement("span",null,e("Crowdsourced Patient Database"))),r.a.createElement("a",{href:"https://twitter.com/covid19indiaorg",target:"_blank",rel:"noopener noreferrer",className:"button twitter",style:{justifyContent:"center"}},r.a.createElement(o.a,null),r.a.createElement("span",null,e("View updates on Twitter"))),r.a.createElement("a",{href:"https://bit.ly/covid19crowd",className:"button telegram",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(l.a,null),r.a.createElement("span",null,e("Join Telegram to Collaborate!"))))}))},292:function(t,e,a){"use strict";var n=a(53),r=a(58),i=a(77),c=a(218),o=a(89),l=a.n(o),s=a(212),u=a.n(s),d=a(0),m=a.n(d),p=a(208),f=a(79);var v=m.a.memo((function(t){var e=t.statistic,a=t.total,n=t.delta,r=Object(p.a)().t,o=Object(f.c)({total:a,delta:n,from:{total:a,delta:n}},f.b.stiff);return m.a.createElement(m.a.Fragment,null,m.a.createElement("h5",null,Object(i.b)(r(e))),m.a.createElement(f.a.h4,null,"active"!==e?n>0?o.delta.interpolate((function(t){return"+".concat(Object(i.g)(Math.floor(t)))})):m.a.createElement(c.a,{size:9,verticalAlign:2}):"\xa0"),m.a.createElement(f.a.h1,null,o.total.interpolate((function(t){return Object(i.g)(Math.floor(t))}))))}));e.a=m.a.memo((function(t){var e=t.data,a=Object(f.e)(4,(function(){return{transform:"translate3d(0, 20px, 0)",opacity:0,config:f.b.stiff}})),c=Object(n.a)(a,2),o=c[0];return(0,c[1])({transform:"translate3d(0, 0px, 0)",opacity:1}),m.a.createElement("div",{className:"Level"},r.n.map((function(t,a){return m.a.createElement(f.a.div,{key:a,className:l()("level-item","is-".concat(t)),style:o[a]},m.a.createElement(v,Object.assign({statistic:t},{total:Object(i.i)(e,"total",t),delta:Object(i.i)(e,"delta",t)})))})))}),(function(t,e){return!!u()(Object(i.i)(t.data,"total","active"),Object(i.i)(e.data,"total","active"))}))},293:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var n=a(53),r=a(467),i=a(0),c=function(t){var e=Object(i.useState)(null),a=Object(n.a)(e,2),c=a[0],o=a[1];return Object(i.useEffect)((function(){var e=t.current,a=new r.a((function(t,e){t.forEach((function(t,e){o(t.contentRect)}))}));return a.observe(e),function(){a.unobserve(e)}}),[t]),c}},294:function(t,e,a){"use strict";var n=a(58),r=a(77),i=a(89),c=a.n(i),o=a(223),l=a(295),s=a(186),u=a(184),d=a(212),m=a.n(d),p=a(0),f=a.n(p);e.a=f.a.memo((function(t){var e=t.timeseries,a=t.date,i=Object(p.useRef)([]),d=Object(p.useMemo)((function(){var t=a||Object(r.h)(),i=Object.keys(e||{}).filter((function(e){return e<=t})),c=Object(s.a)(Object(u.a)(Object(r.k)(t),n.l),{representation:"date"});return i.filter((function(t){return t>=c}))}),[e,a]);return Object(p.useEffect)((function(){var t=d.length,a=10,c=5,s=100-5,u=100-20,m=o.D().clamp(!0).domain([Object(r.k)(d[0]),Object(r.k)(d[t-1])]).range([c,s]),p=o.s(d,(function(t){return Object(r.i)(e[t],"delta","active")})),f=o.r(d,(function(t){return Math.max(Object(r.i)(e[t],"delta","active"),Object(r.i)(e[t],"delta","occupied"),Object(r.i)(e[t],"delta","available"))})),v=Math.max(-p,f),h=o.y().clamp(!0).domain([-v,v]).range([u,a]);i.current.forEach((function(a,i){var c,s=o.E(a),u=n.n[i],p=n.a[u],f=o.q().curve(o.d).x((function(t){return m(Object(r.k)(t))})).y((function(t){return h(Object(r.i)(e[t],"delta",u))}));s.selectAll("path").data(t?[d]:[]).join((function(t){return t.append("path").attr("fill","none").attr("stroke",p+"99").attr("stroke-width",2.5).attr("d",f).attr("stroke-dasharray",(function(){return c=this.getTotalLength()})).call((function(t){return t.attr("stroke-dashoffset",c).transition().delay(100).duration(2500).attr("stroke-dashoffset",0)}))}),(function(t){return t.attr("stroke-dasharray",null).transition().duration(500).attrTween("d",(function(t){var e=o.E(this).attr("d"),a=f(t);return Object(l.interpolatePath)(e,a)}))})),s.selectAll("circle").data(t?[d[t-1]]:[]).join((function(t){return t.append("circle").attr("fill",p).attr("r",2.5).attr("cx",(function(t){return m(Object(r.k)(t))})).attr("cy",(function(t){return h(Object(r.i)(e[t],"delta",u))})).style("opacity",0).call((function(t){return t.transition().delay(2100).duration(500).style("opacity",1).attr("cx",(function(t){return m(Object(r.k)(t))})).attr("cy",(function(t){return h(Object(r.i)(e[t],"delta",u))}))}))}),(function(t){return t.transition().duration(500).attr("cx",(function(t){return m(Object(r.k)(t))})).attr("cy",(function(t){return h(Object(r.i)(e[t],"delta",u))}))}))}))}),[d,e]),f.a.createElement("div",{className:"Minigraph"},n.n.map((function(t,e){return f.a.createElement("div",{key:t,className:c()("svg-parent")},f.a.createElement("svg",{ref:function(t){i.current[e]=t},width:"100",height:"75",viewBox:"0 0 100 75",preserveAspectRatio:"xMidYMid meet"}))})))}),(function(t,e){return!!m()(e.date,t.date)}))},311:function(t,e,a){"use strict";var n=a(50),r=a(53),i=a(58),c=a(0),o=a.n(c),l=a(401),s=function(t){var e=t.width,a=t.statistic,n=window.innerWidth;e||(e=n>769?480:n);var r=(n>769?.9:1)*e/.885,c=42+i.f+r;return o.a.createElement(l.a,{viewBox:"0 0 ".concat(e," ").concat(c),height:c,width:e,speed:2,backgroundColor:i.a[a]},o.a.createElement("circle",{cx:.4*e,cy:c/2,r:"5"}),o.a.createElement("circle",{cx:.5*e,cy:c/2,r:"5"}),o.a.createElement("circle",{cx:.6*e,cy:c/2,r:"5"}))},u=a(60),d=a(290),m=a.n(d),p=a(291),f=a(293),v=a(77),h=a(223);var b=function(t){t.data;var e=t.mapScale,a=t.mapOption,n=t.statistic,r=Object(c.useRef)(null),l=Object(c.useRef)(),s=Object(f.a)(l);return Object(c.useEffect)((function(){var t=h.E(r.current),c=s||l.current.getBoundingClientRect(),o=c.width,u=c.height;if(!o||!u){var d=l.current.getBoundingClientRect();o=d.width,u=d.height}if(a===i.h.HOTSPOTS){var m=t.transition().duration(i.b);t.select(".ramp").transition(m).attr("opacity",0).attr("xlink:href",null),t.select(".bars").selectAll("rect").transition(m).attr("opacity",0).remove(),t.selectAll(".axis > *").remove();var p=e.domain()[1];t.select(".circles").attr("transform","translate(48,40)").attr("text-anchor","middle").selectAll("circle").data([p/10,2*p/5,p]).join("circle").attr("fill","none").attr("stroke","#ccc").transition(m).attr("cy",(function(t){return-e(t)})).attr("r",e);var f=e.copy().range([0,-2*e(p)]);t.select(".circleAxis").attr("transform","translate(48,50)").transition(m).call(h.b(f).tickSize(0).tickPadding(0).tickValues([p/10,2*p/5,p]).tickFormat(h.f("0~s"))).selectAll(".tick text").style("text-anchor","middle"),t.select(".circleAxis").call((function(t){return t.select(".domain").remove()}))}else t.call((function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.svg,a=t.color,n=t.title,r=t.tickSize,c=void 0===r?6:r,o=t.width,l=void 0===o?320:o,s=t.height,u=void 0===s?44+c:s,d=t.marginTop,m=void 0===d?18:d,p=t.marginRight,f=void 0===p?0:p,v=t.marginBottom,b=void 0===v?16+c:v,g=t.marginLeft,j=void 0===g?0:g,E=t.ticks,T=void 0===E?l/64:E,k=t.tickFormat,y=t.tickValues,S=t.ordinalWeights;e.selectAll(".circles > *").remove(),e.selectAll(".circleAxis > *").remove();var N,x=e.transition().duration(i.b),C=function(t){t.selectAll(".tick line").attr("y1",m+b-u)};if(a.interpolate){var w=Math.min(a.domain().length,a.range().length);N=a.copy().rangeRound(h.v(h.i(j,l-f),w)),e.select(".ramp").attr("class","ramp").attr("x",j).attr("y",m).attr("width",l-j-f).attr("height",u-m-b).attr("preserveAspectRatio","none").attr("xlink:href",O(a.copy().domain(h.v(h.i(0,1),w))).toDataURL())}else if(a.interpolator){if(e.select(".bars").selectAll("rect").transition(x).attr("opacity",0).remove(),N=Object.assign(a.copy().interpolator(h.o(j,l-f)),{range:function(){return[j,l-f]}}),e.select(".ramp").attr("class","ramp").attr("x",j).attr("y",m).attr("width",l-j-f).attr("height",u-m-b).attr("preserveAspectRatio","none").attr("xlink:href",O(a.interpolator()).toDataURL()).transition(x).attr("opacity",1),!N.ticks){if(void 0===y){var A=Math.round(T+1);y=h.w(A).map((function(t){return h.u(a.domain(),t/(A-1))}))}"function"!==typeof k&&(k=h.f(void 0===k?",f":k))}}else if(a.invertExtent){var M=a.thresholds?a.thresholds():a.quantiles?a.quantiles():a.domain(),R=void 0===k?function(t){return t}:"string"===typeof k?h.f(k):k;N=h.y().domain([-1,a.range().length-1]).rangeRound([j,l-f]),e.append("g").selectAll("rect").data(a.range()).join("rect").attr("x",(function(t,e){return N(e-1)})).attr("y",m).attr("width",(function(t,e){return N(e)-N(e-1)})).attr("height",u-m-b).attr("fill",(function(t){return t})),y=h.w(-1,M.length),k=function(t){return-1===t?R(1):t!==M.length-1?t===M.length-2?R(M[t]+"+",t):R(M[t],t):void 0}}else{if(e.select(".ramp").transition(x).attr("opacity",0).attr("xlink:href",null),S){var I=h.y().domain([0,S.reduce((function(t,e){return t+e}))]).rangeRound([0,l-j-f]),L=S.map((function(t,e){return S.slice(0,e).reduce((function(t,e){return t+I(e)}),j)}));N=h.A().domain(a.domain()).range(L),e.select(".bars").selectAll("rect").data(a.domain()).join((function(t){return t.append("rect").attr("x",N).attr("width",(function(t,e){return I(S[e])}))})).attr("y",m).attr("height",u-m-b).attr("fill",a).transition(x).attr("x",N).attr("width",(function(t,e){return I(S[e])})).attr("opacity",1)}else N=h.x().domain(a.domain()).rangeRound([j,l-f]),e.selectAll("rect").data(a.domain()).join("rect").attr("x",N).attr("y",m).attr("width",Math.max(0,N.bandwidth()-1)).attr("height",u-m-b).attr("fill",a);C=function(){}}return e.select(".axis").attr("transform","translate(0,".concat(u-b,")")).transition(x).attr("class","axis").call(h.a(N).ticks(T,"string"===typeof k?k:void 0).tickFormat("function"===typeof k?k:void 0).tickSize(c).tickValues(y)).on("start",(function(){e.call(C).call((function(t){return t.select(".domain").remove()}))})).call((function(t){return t.select(".axistext").attr("class","axistext").attr("x",j).attr("y",m+b-u-6).attr("fill","currentColor").attr("text-anchor","start").attr("font-weight","bold").text(n)})),e.node()}({svg:t,color:e,title:Object(v.c)(n)+(a===i.h.PER_MILLION?" cases per million":" cases"),width:o,height:u,ticks:5,tickFormat:function(t,e,n){if(a!==i.h.TOTAL||Number.isInteger(t))return e===n.length-1?Object(v.g)(t)+"+":Object(v.g)(t)},marginLeft:2,marginRight:20})}));t.attr("class",a===i.h.ZONES?"zone":"")}),[s,e,a,n]),o.a.createElement("div",{className:"svg-parent maplegend",style:{height:i.f},ref:l},o.a.createElement("svg",{id:"legend",preserveAspectRatio:"xMidYMid meet",ref:r},o.a.createElement("image",{className:"ramp"}),o.a.createElement("g",{className:"bars"}),o.a.createElement("g",{className:"circles"}),o.a.createElement("g",{className:"circleAxis"}),o.a.createElement("g",{className:"axis"},o.a.createElement("text",{className:"axistext"}))),o.a.createElement("canvas",{className:"color-scale",style:{position:"absolute",height:0}}))};function O(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,a=h.E(".color-scale").node(),n=(a.width=e,a.height=1,a).getContext("2d"),r=0;r<e;++r)n.fillStyle=t(r/(e-1)),n.fillRect(r,0,1,1);return a}var g=a(474),j=a(208),E=a(231),T=a(464),k={confirmed:function(t){return h.n(.85*t)},active:function(t){return h.j(.85*t)},recovered:function(t){return h.k(.85*t)},deceased:function(t){return h.l(.85*t)},tested:function(t){return h.m(.85*t)}},y=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Object(v.i)(t,"total",e,a)};var S=function(t){var e,a,n=t.currentMap,r=t.data,l=t.changeMap,s=t.regionHighlighted,d=t.setRegionHighlighted,f=t.statistic,O=t.isCountryLoaded,S=Object(j.a)().t,N=Object(c.useRef)(null),x=i.g[n.code],C=Object(E.a)(x.geoDataFile,function(){var t=Object(p.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.p(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{revalidateOnFocus:!1,suspense:!0}).data,w=Object(c.useMemo)((function(){var t=Object.keys(r).filter((function(t){return"TT"!==t&&Object.keys(i.g).includes(t)}));return n.view===i.k.STATES?h.r(t,(function(t){return y(r[t],f,n.option===i.h.PER_MILLION?i.s[t]:1)})):h.r(t,(function(t){var e;return(null===(e=r[t])||void 0===e?void 0:e.districts)?h.r(Object.values(r[t].districts),(function(t){return y(t,f)})):0}))}),[r,n.option,n.view,f]),A=Object(c.useMemo)((function(){return y(r[n.code],f,n.option===i.h.PER_MILLION?i.s[n.code]:1)}),[r,n.code,n.option,f]),M=Object(c.useMemo)((function(){return n.option===i.h.ZONES?h.A(Object.keys(i.x),Object.values(i.x)):n.option===i.h.HOTSPOTS?h.C([0,Math.max(w,1)],[0,40]).clamp(!0).nice(3):h.B([0,Math.max(1,w)],k[f]).clamp(!0)}),[n.option,f,w]);return Object(c.useEffect)((function(){var t=T.a(C,C.objects[x.graphObjectStates||x.graphObjectDistricts]),e=h.E(N.current),a=h.g().fitSize([432,488],t),c=h.h(a),o=n.option!==i.h.HOTSPOTS?n.view===i.k.STATES?T.a(C,C.objects[x.graphObjectStates]).features:T.a(C,C.objects[x.graphObjectDistricts]).features:[].concat(Object(u.a)(T.a(C,C.objects[x.graphObjectStates]).features),Object(u.a)(T.a(C,C.objects[x.graphObjectDistricts]).features));o=o.map((function(t){var e=t.properties.district,a=t.properties.st_nm,r=Object.assign({},t);return r.id="".concat(n.code,"-").concat(a).concat(e?"-"+e:""),r}));var s=function(t){var e,a,c=i.p[t.properties.st_nm],o=t.properties.district,l=r[c],s=null===l||void 0===l||null===(e=l.districts)||void 0===e?void 0:e[o];return 0===(a=n.option===i.h.ZONES?(null===s||void 0===s?void 0:s.zone)||0:o?y(s,f):y(l,f,n.option===i.h.PER_MILLION?i.s[c]:1))?"#ffffff00":M(a)},m=function(t){return n.option===i.h.ZONES?"#343a40":i.a[f]},p=h.F().duration(i.b),b=null;e.select(".regions").selectAll("path").data(n.option!==i.h.HOTSPOTS?o:[],(function(t){return t.id})).join((function(t){var a=t.append("path").attr("d",c).attr("stroke-width",1.8).attr("stroke-opacity",0).style("cursor","pointer").on("mouseenter",(function(t){d({stateCode:i.p[t.properties.st_nm],districtName:t.properties.district})})).on("mouseleave",(function(t){b===t&&(b=null)})).on("touchstart",(function(t){b=b===t?null:t})).on("click",(function(t){h.e.stopPropagation(),b||x.mapType===i.j.STATE||(e.attr("pointer-events","none"),e.select(".regions").selectAll("path").attr("pointer-events","none"),l(i.p[t.properties.st_nm]))})).attr("fill",s).attr("stroke",m);return a.append("title"),a}),(function(t){return t.call((function(t){return t.transition(p).attr("fill",s).attr("stroke",m)}))})).attr("pointer-events","all").select("title").text((function(t){if(n.option===i.h.TOTAL){var e,a,c=t.properties.st_nm,o=i.p[c],l=t.properties.district,s=r[o],u=null===s||void 0===s||null===(e=s.districts)||void 0===e?void 0:e[l];return a=y(l?u:s,f),Object(v.g)(a/(A||.001)*100)+"% from "+Object(v.c)(l||c)}})),e.transition().duration(x.mapType===i.j.STATE?p.duration()/2:0).on("end",(function(){return e.attr("class",n.option===i.h.ZONES?"zone":"")}));var O=[];n.option===i.h.HOTSPOTS&&(O=o.map((function(t){var e,a,n=i.p[t.properties.st_nm],c=t.properties.district,o=r[n],l=null===o||void 0===o||null===(e=o.districts)||void 0===e?void 0:e[c];return t.value=y(c?l:null===o||void 0===o||null===(a=o.districts)||void 0===a?void 0:a[i.w],f),t})).sort((function(t,e){return e.value-t.value}))),e.select(".circles").selectAll("circle").data(O,(function(t){return t.id})).join((function(t){return t.append("circle").attr("transform",(function(t){return"translate(".concat(c.centroid(t),")")})).attr("fill-opacity",.5).style("cursor","pointer").attr("pointer-events","all").on("mouseenter",(function(t){d({stateCode:i.p[t.properties.st_nm],districtName:t.properties.district||i.w})})).on("click",(function(){h.e.stopPropagation()}))})).transition(p).attr("fill",i.a[f]+"70").attr("stroke",i.a[f]+"70").attr("r",(function(t){return M(t.value)}));var g=[];x.mapType===i.j.COUNTRY&&((g=[T.b(C,C.objects[x.graphObjectStates])])[0].id=x.graphObjectStates);var j=[];n.view===i.k.DISTRICTS&&((j=[T.b(C,C.objects[x.graphObjectDistricts])])[0].id=x.graphObjectDistricts),e.select(n.view===i.k.STATES?".state-borders":".district-borders").attr("fill","none").attr("stroke-width",(function(){return x.mapType===i.j.COUNTRY&&n.view===i.k.DISTRICTS?0:1.5})).selectAll("path").data(n.view===i.k.STATES?g:j,(function(t){return t.id})).join((function(t){return t.append("path").attr("d",c)})).transition(p).attr("stroke",(function(){return n.option===i.h.ZONES?"#00000060":i.a[f]+"30"})),e.select(n.view===i.k.STATES?".district-borders":".state-borders").selectAll("path").data(n.view===i.k.STATES?j:g,(function(t){return t.id})).join((function(t){return t.append("path").attr("d",c).attr("fill","none").attr("stroke-width",1.5)})).transition(p).attr("stroke","#343a4050"),e.attr("pointer-events","auto").on("click",(function(){x.mapType!==i.j.STATE&&d({stateCode:"TT",districtName:null})}))}),[C,r,x,n,d,l,O,M,f,A]),Object(c.useEffect)((function(){var t=i.r[s.stateCode],e=s.districtName,a=h.E(N.current);n.option===i.h.HOTSPOTS?a.select(".circles").selectAll("circle").attr("fill-opacity",(function(a){var n;return t===a.properties.st_nm&&(!e||e===(null===(n=a.properties)||void 0===n?void 0:n.district)||e===i.w&&!a.properties.district)?1:.5})):a.select(".regions").selectAll("path").each((function(a){var r,c=t===a.properties.st_nm&&(n.view===i.k.STATES||e===(null===(r=a.properties)||void 0===r?void 0:r.district));c&&this.parentNode.appendChild(this),h.E(this).attr("stroke-opacity",c?1:0)}))}),[C,r,n.option,n.view,s.stateCode,s.districtName,f]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"svg-parent"},o.a.createElement("svg",{id:"chart",viewBox:"0 0 ".concat(432," ").concat(488),preserveAspectRatio:"xMidYMid meet",ref:N},o.a.createElement("g",{className:"regions"}),o.a.createElement("g",{className:"state-borders"}),n.view===i.k.DISTRICTS&&o.a.createElement("g",{className:"district-borders"}),n.option===i.h.HOTSPOTS&&o.a.createElement("g",{className:"circles"})),x.mapType===i.j.STATE&&!!y(null===(e=r[n.code])||void 0===e||null===(a=e.districts)||void 0===a?void 0:a[i.w],f)&&o.a.createElement("div",{className:"disclaimer"},o.a.createElement(g.a,null),S("District-wise {{statistic}} numbers need reconciliation",{statistic:S(f)}))),M&&o.a.createElement(b,{data:r,mapScale:M,mapOption:n.option,statistic:f}),o.a.createElement("svg",{style:{position:"absolute",height:0}},o.a.createElement("defs",null,o.a.createElement("filter",{id:"balance-color",colorInterpolationFilters:"sRGB"},o.a.createElement("feColorMatrix",{type:"matrix",values:"0.91372549  0           0            0  0.08627451 0           0.91372549  0            0  0.08627451 0           0           0.854901961  0  0.145098039 0           0           0            1  0"})))))},N=a(475),x=a(468),C=o.a.createElement("span",{className:"tooltip-tested",onClick:function(t){return t.stopPropagation()}},o.a.createElement(N.a,{"data-for":"tested","data-tip":"Reporting total samples tested from ICMR data","data-event":"touchstart mouseover","data-event-off":"mouseleave"}),o.a.createElement(x.a,{id:"tested",effect:"solid",multiline:!0,scrollHide:!0,globalEventOff:"click"})),w=a(218),A=a(89),M=a.n(A),R=a(212),I=a.n(R),L=a(219),_=a(91),P=a.n(_),D=a(476),H=a(477),U=a(20),Y=a(79);e.a=o.a.memo((function(t){var e,a,l=t.stateCode,u=t.data,d=t.regionHighlighted,m=t.setRegionHighlighted,p=t.anchor,f=t.setAnchor,h=t.mapStatistic,b=t.setMapStatistic,O=t.isCountryLoaded,g=void 0===O||O,E=Object(j.a)().t,T=Object(U.g)(),k=Object(c.useRef)(),y=Object(c.useState)({code:l,view:i.g[l].mapType===i.j.COUNTRY?i.k.STATES:i.k.DISTRICTS,option:i.h.TOTAL}),N=Object(r.a)(y,2),x=N[0],A=N[1],R=i.g[x.code],I=R.mapType===i.j.COUNTRY?u:Object(n.a)({},x.code,u[x.code]);Object(c.useEffect)((function(){if(d.districtName){if(x.code!==d.stateCode&&(R.mapType!==i.j.COUNTRY||x.view!==i.k.DISTRICTS)){if(!i.g[d.stateCode])return;A({code:d.stateCode,view:i.k.DISTRICTS,option:x.option===i.h.PER_MILLION?i.h.TOTAL:x.option})}}else g&&R.mapType===i.j.STATE&&A({code:"TT",view:x.option===i.h.ZONES?i.k.DISTRICTS:i.k.STATES,option:x.option})}),[g,d.stateCode,d.districtName,x.code,x.option,x.view,R.mapType]);var _=Object(c.useCallback)((function(t){var e=i.g[t];if(e)if(e.mapType===i.j.STATE){var a=u[t].districts,n=Object.keys(a).sort((function(t,e){return Object(v.i)(a[e],"total",h)-Object(v.i)(a[t],"total",h)}))[0];P.a.unstable_batchedUpdates((function(){m({stateCode:t,districtName:n}),A({code:t,view:i.k.DISTRICTS,option:x.option===i.h.PER_MILLION?i.h.TOTAL:x.option})}))}else P.a.unstable_batchedUpdates((function(){A({code:"TT",view:x.option===i.h.ZONES?i.k.DISTRICTS:i.k.STATES,option:x.option}),m({stateCode:"TT",districtName:null})}))}),[u,x.option,h,m]),F=Object(c.useMemo)((function(){var t=x.view===i.k.STATES?d.stateCode:x.code,e=u[t]||{};return Object(L.a)(e,(function(e){e.state=i.r[t]}))}),[u,d.stateCode,x.view,x.code]),z=Object(c.useMemo)((function(){var t,e,a=(d.districtName?null===(t=u[d.stateCode])||void 0===t||null===(e=t.districts)||void 0===e?void 0:e[d.districtName]:u[d.stateCode])||{};return Object(L.a)(a,(function(t){t.name=d.districtName||i.r[d.stateCode],d.districtName||(t.population_millions=i.s[d.stateCode])}))}),[u,d.stateCode,d.districtName]),Z=Object(Y.d)(i.i.length,i.i.map((function(t){return{total:Object(v.i)(F,"total",t),delta:Object(v.i)(F,"delta",t),from:{total:Object(v.i)(F,"total",t),delta:Object(v.i)(F,"delta",t)},config:{tension:500,clamp:!0}}})));return o.a.createElement("div",{className:M()("MapExplorer",{stickied:"mapexplorer"===p},{hidden:p&&"mapexplorer"!==p})},window.innerWidth>769&&o.a.createElement("div",{className:M()("anchor",{stickied:"mapexplorer"===p}),onClick:function(){f("mapexplorer"===p?null:"mapexplorer")}},o.a.createElement(w.c,null)),o.a.createElement("div",{className:"header"},o.a.createElement("h1",null,"TT"===x.code?E("India"):E(i.r[x.code])," ",E("Map")),o.a.createElement("h6",null,E("{{action}} over a {{mapType}} for more details",{action:E(window.innerWidth<=769?"Tap":"Hover"),mapType:E(R.mapType===i.j.COUNTRY?"state/UT":"District")}))),o.a.createElement("div",{className:"map-stats"},i.i.map((function(t,e){var a,n;return o.a.createElement("div",{key:t,className:M()("stats",t,{focused:t===h}),onClick:function(){return b(t)}},o.a.createElement("h5",null,E(Object(v.b)(t))),o.a.createElement("div",{className:"stats-bottom"},o.a.createElement(Y.a.h1,null,Z[e].total.interpolate((function(t){return Object(v.g)(Math.floor(t))}))),"tested"!==t&&"active"!==t&&o.a.createElement(Y.a.h6,null,Z[e].delta.interpolate((function(t){return t>0?"+".concat(Object(v.g)(Math.floor(t))):"\xa0"}))),"tested"===t&&o.a.createElement("h6",null,(null===F||void 0===F||null===(a=F.total)||void 0===a?void 0:a.tested)&&E("As of {{date}}",{date:Object(v.e)(F.meta.tested.last_updated,"dd MMM")}))),"tested"===t&&(null===F||void 0===F||null===(n=F.total)||void 0===n?void 0:n.tested)&&o.a.createElement("a",{href:F.meta.tested.source,target:"_noblank"},o.a.createElement(D.a,null)),"tested"===t&&"Total"===F.state&&C)}))),o.a.createElement("div",{className:"meta"},R.mapType===i.j.STATE&&o.a.createElement("div",{className:"map-button",onClick:function(){return T.push("state/".concat(x.code))}},E("Visit state page"),o.a.createElement(H.a,null)),R.mapType!==i.j.STATE&&(null===F||void 0===F||null===(e=F.meta)||void 0===e?void 0:e.last_updated)&&o.a.createElement("div",{className:"last-update"},o.a.createElement("h6",null,E("Last updated")),o.a.createElement("h3",null,"".concat(Object(v.f)(F.meta.last_updated)," ").concat(E("ago")))),o.a.createElement("h2",{className:M()(h,Object(n.a)({},null===z||void 0===z?void 0:z.zone,x.option===i.h.ZONES))},E(z.name),z.name===i.w&&" (".concat(E(i.r[d.stateCode]),")")),R.mapType===i.j.STATE&&o.a.createElement("div",{className:"map-button",onClick:function(){return _("TT")}},E("Back")),x.option!==i.h.ZONES&&(x.view===i.k.DISTRICTS&&d.districtName||x.view===i.k.STATES&&x.option!==i.h.TOTAL)&&o.a.createElement("h1",{className:M()("district",h)},Object(v.g)(Object(v.i)(z,"total",h,x.option===i.h.PER_MILLION?z.population_millions:1)),o.a.createElement("br",null),o.a.createElement("span",null,E(h),x.option===i.h.PER_MILLION&&" ".concat(E("per million"))))),o.a.createElement("div",{ref:k},h&&o.a.createElement(c.Suspense,{fallback:o.a.createElement(s,Object.assign({className:"map-loader"},{width:null===(a=k.current)||void 0===a?void 0:a.clientWidth,statistic:h}))},o.a.createElement(S,{currentMap:x,data:I,changeMap:_,regionHighlighted:d,setRegionHighlighted:m,statistic:h,isCountryLoaded:g}))),o.a.createElement("div",{className:"tabs-map"},Object.values(i.h).map((function(t){return o.a.createElement("div",{key:t,className:M()("tab",{focused:x.option===t}),onClick:function(){return function(t){switch(t){case i.h.TOTAL:return A({code:x.code,view:R.mapType===i.j.COUNTRY?i.k.STATES:i.k.DISTRICTS,option:i.h.TOTAL}),void(R.mapType===i.j.COUNTRY&&m({stateCode:d.stateCode,districtName:null}));case i.h.PER_MILLION:if(R.mapType===i.j.STATE)return;return A({code:x.code,view:i.k.STATES,option:i.h.PER_MILLION}),void m({stateCode:d.stateCode,districtName:null});case i.h.HOTSPOTS:if(R.mapType===i.j.STATE)return;return void A({code:x.code,view:i.k.DISTRICTS,option:i.h.HOTSPOTS});case i.h.ZONES:return A({code:x.code,view:i.k.DISTRICTS,option:i.h.ZONES}),void(R.mapType===i.j.COUNTRY&&m({stateCode:"TT",districtName:null}));default:return}}(t)}},o.a.createElement("h4",null,E(t),t===i.h.PER_MILLION&&o.a.createElement("sup",null,"\u2020")))}))),o.a.createElement("h6",{className:M()("footnote","table-fineprint")},"\u2020 ","".concat(E("Based on 2019 population projection by NCP")," ("),o.a.createElement("a",{href:"https://nhm.gov.in/New_Updates_2018/Report_Population_Projection_2019.pdf",target:"_noblank",style:{color:"#6c757d"}},E("source")),")"))}),(function(t,e){var a,n,r,i,c,o,l,s,u,d;return!!I()(t.regionHighlighted,e.regionHighlighted)&&(!!I()(t.mapStatistic,e.mapStatistic)&&(!!I()(t.anchor,e.anchor)&&(!!I()(null===(a=t.data)||void 0===a||null===(n=a.TT)||void 0===n||null===(r=n.meta)||void 0===r?void 0:r.last_updated,null===(i=e.data)||void 0===i||null===(c=i.TT)||void 0===c||null===(o=c.meta)||void 0===o?void 0:o.last_updated)&&!!I()(null===(l=t.data)||void 0===l||null===(s=l.TT)||void 0===s?void 0:s.total,null===(u=e.data)||void 0===u||null===(d=u.TT)||void 0===d?void 0:d.total))))}))},312:function(t,e,a){"use strict";var n=a(53),r=a(58),i=a(293),c=a(77),o=a(89),l=a.n(o),s=a(223),u=a(295),d=a(186),m=a(184),p=a(212),f=a.n(p),v=a(0),h=a.n(v),b=a(208);var O=h.a.memo((function(t){var e=t.timeseries,a=t.dates,o=t.chartType,p=t.isUniform,f=t.isLog,O=Object(b.a)().t,g=Object(v.useRef)([]),j=Object(v.useRef)(),E=Object(i.a)(j),T=Object(v.useState)(),k=Object(n.a)(T,2),y=k[0],S=k[1];Object(v.useEffect)((function(){S(a[a.length-1])}),[a]),Object(v.useEffect)((function(){var t=a.length,n=E||j.current.getBoundingClientRect(),i=n.width,l=n.height,d=15,m=25,v=i-35,h=l-25,b=s.D().clamp(!0).domain([Object(c.k)(a[0]),Object(c.k)(a[t-1])]).range([m,v]),O=i<480?4:7,T=function(t){return t.attr("class","x-axis").call(s.a(b).ticks(O).tickFormat((function(t){return Object(c.e)(t,"dd MMM")})))},k=function(t,e){t.attr("class","x-axis2").call(s.a(b).tickValues([]).tickSize(0)).select(".domain").style("transform","translateY(".concat(e(0),"px)")),e(0)!==h?t.select(".domain").attr("opacity",.4):t.select(".domain").attr("opacity",0)},y=function(t,e){return t.attr("class","y-axis").call(s.b(e).ticks(4,"0~s").tickPadding(4))},N=s.s(a,(function(t){return Object(c.i)(e[t],o,"occupied")})),x=s.r(a,(function(t){return Math.max(Object(c.i)(e[t],o,"active"),Object(c.i)(e[t],o,"occupied"),Object(c.i)(e[t],o,"available"))})),C=s.y().clamp(!0).domain([N,Math.max(1,1.2*x)]).nice(4).range([h,d]),w=s.z().clamp(!0).domain([Math.max(1,N),Math.max(10,1.2*x)]).nice(4).range([h,d]);function A(){var t=s.t(this)[0],e=b.invert(t),n=(0,s.c((function(t){return Object(c.k)(t)})).left)(a,e,1);S(a[n])}function M(){S(a[t-1])}g.current.forEach((function(n,i){var l=s.E(n),m=l.transition().duration(r.b),O=r.v[i],g=function(t){return p&&"total"===o&&f&&"tested"!==t?w:p&&"tested"!==t?C:"total"===o&&f?s.z().clamp(!0).domain([Math.max(1,s.s(a,(function(a){return Object(c.i)(e[a],o,t)}))),Math.max(10,1.2*s.r(a,(function(a){return Object(c.i)(e[a],o,t)})))]).nice(4).range([h,d]):s.y().clamp(!0).domain([1.1*Math.min(0,s.s(a,(function(a){return Object(c.i)(e[a],o,t)}))),Math.max(1,1.2*s.r(a,(function(a){return Object(c.i)(e[a],o,t)})))]).nice(4).range([h,d])}(O),j=r.a[O];if(l.select(".x-axis").style("transform","translateY(".concat(h,"px)")).transition(m).call(T),l.select(".x-axis2").transition(m).call(k,g),l.select(".y-axis").style("transform","translateX(".concat(v,"px)")).transition(m).call(y,g),l.selectAll("circle").data(a,(function(t){return t})).join((function(t){return t.append("circle").attr("fill",j).attr("stroke",j).attr("r",2).attr("cy",h).attr("cx",(function(t){return b(Object(c.k)(t))}))})).transition(m).attr("cx",(function(t){return b(Object(c.k)(t))})).attr("cy",(function(t){return g(Object(c.i)(e[t],o,O))})),"total"===o){l.selectAll(".stem").transition(m).attr("y1",g(0)).attr("y2",g(0)).remove();var E,S=s.q().curve(s.d).x((function(t){return b(Object(c.k)(t))})).y((function(t){return g(Object(c.i)(e[t],o,O))}));l.selectAll(".trend").data(t?[a]:[]).join((function(t){return t.append("path").attr("class","trend").attr("fill","none").attr("stroke",j+"50").attr("stroke-width",4).attr("d",S).attr("stroke-dasharray",(function(){return E=this.getTotalLength()})).call((function(t){return t.attr("stroke-dashoffset",E).transition(m).attr("stroke-dashoffset",0)}))}),(function(t){return t.attr("stroke-dasharray",null).transition(m).attrTween("d",(function(t){var e=s.E(this).attr("d"),a=S(t);return Object(u.interpolatePath)(e,a)}))}))}else l.selectAll(".trend").remove(),l.selectAll(".stem").data(a,(function(t){return t})).join((function(t){return t.append("line").attr("class","stem").style("stroke",j+"99").style("stroke-width",4).attr("x1",(function(t){return b(Object(c.k)(t))})).attr("y1",h).attr("x2",(function(t){return b(Object(c.k)(t))})).attr("y2",h)})).transition(m).attr("x1",(function(t){return b(Object(c.k)(t))})).attr("y1",g(0)).attr("x2",(function(t){return b(Object(c.k)(t))})).attr("y2",(function(t){return g(Object(c.i)(e[t],o,O))}));l.selectAll("*").attr("pointer-events","none"),l.on("mousemove",A).on("touchmove",A).on("mouseout",M).on("touchend",M)}))}),[o,E,p,f,e,a]),Object(v.useEffect)((function(){g.current.forEach((function(t){s.E(t).selectAll("circle").attr("r",(function(t){return t===y?4:2}))}))}),[y]);var N=Object(v.useCallback)((function(t){if(y){var a=Object(c.i)(null===e||void 0===e?void 0:e[y],"delta",t);if("total"===o)return a;var n=Object(d.a)(Object(m.a)(Object(c.k)(y),1),{representation:"date"});return a-Object(c.i)(null===e||void 0===e?void 0:e[n],"delta",t)}}),[e,y,o]);return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"TimeSeries"},r.v.map((function(t,a){var n=N(t);return h.a.createElement("div",{key:t,className:l()("svg-parent","is-".concat(t)),ref:j},y&&h.a.createElement("div",{className:l()("stats","is-".concat(t))},h.a.createElement("h5",{className:"title"},Object(c.b)(O(t))),h.a.createElement("h5",{className:"title"},Object(c.e)(y,"dd MMMM")),h.a.createElement("div",{className:"stats-bottom"},h.a.createElement("h2",null,Object(c.g)(Object(c.i)(null===e||void 0===e?void 0:e[y],o,t))),h.a.createElement("h6",null,"".concat(n>=0?"+":"").concat(Object(c.g)(n))))),h.a.createElement("svg",{ref:function(t){g.current[a]=t},preserveAspectRatio:"xMidYMid meet"},h.a.createElement("g",{className:"x-axis"}),h.a.createElement("g",{className:"x-axis2"}),h.a.createElement("g",{className:"y-axis"})))}))))}),(function(t,e){return!!f()(e.chartType,t.chartType)&&(!!f()(e.isUniform,t.isUniform)&&(!!f()(e.isLog,t.isLog)&&(!!f()(e.stateCode,t.stateCode)&&!!f()(e.dates,t.dates))))})),g=(a(297),a(218)),j=a(495),E=a(298),T=a(199);e.a=h.a.memo((function(t){var e=t.timeseries,a=t.date,i=t.regionHighlighted,o=t.setRegionHighlighted,s=t.anchor,u=t.setAnchor,m=t.stateCodes,p=Object(b.a)().t,f=Object(v.useState)(r.u.MONTH),k=Object(n.a)(f,2),y=k[0],S=k[1],N=Object(T.a)("chartType","total"),x=Object(n.a)(N,2),C=x[0],w=x[1],A=Object(T.a)("isUniform",!0),M=Object(n.a)(A,2),R=M[0],I=M[1],L=Object(T.a)("isLog",!1),_=Object(n.a)(L,2),P=_[0],D=_[1],H=Object(v.useRef)(),U=Object(E.useIsVisible)(H,{once:!0}),Y=Object(v.useMemo)((function(){var t=a||Object(c.h)(),n=Object.keys(e||{}).filter((function(e){return e<=t}));if(y===r.u.TWO_WEEKS){var i=Object(d.a)(Object(j.a)(Object(c.k)(t),{weeks:2}),{representation:"date"});return n.filter((function(t){return t>=i}))}if(y===r.u.MONTH){var o=Object(d.a)(Object(j.a)(Object(c.k)(t),{months:1}),{representation:"date"});return n.filter((function(t){return t>=o}))}return n}),[e,a,y]);return h.a.createElement("div",{className:l()("TimeSeriesExplorer",{stickied:"timeseries"===s}),style:{display:"mapexplorer"===s?"none":""},ref:H},h.a.createElement("div",{className:"timeseries-header"},h.a.createElement("div",{className:l()("anchor",{stickied:"timeseries"===s}),onClick:function(){u("timeseries"===s?null:"timeseries")}},h.a.createElement(g.c,null)),h.a.createElement("h1",null,p("Spread Trends")),h.a.createElement("div",{className:"tabs"},Object.entries(r.t).map((function(t){var e=Object(n.a)(t,2),a=e[0],r=e[1];return h.a.createElement("div",{className:"tab ".concat(C===a?"focused":""),key:a,onClick:function(){w(a)}},h.a.createElement("h4",null,p(r)))}))),h.a.createElement("div",{className:"scale-modes"},h.a.createElement("label",{className:"main"},p("Scale Modes")),h.a.createElement("div",{className:"timeseries-mode"},h.a.createElement("label",{htmlFor:"timeseries-mode"},p("Uniform")),h.a.createElement("input",{id:"timeseries-mode",type:"checkbox",className:"switch",checked:R,"aria-label":p("Checked by default to scale uniformly."),onChange:function(){I(!R)}})),h.a.createElement("div",{className:"timeseries-logmode ".concat("total"!==C?"disabled":"")},h.a.createElement("label",{htmlFor:"timeseries-logmode"},p("Logarithmic")),h.a.createElement("input",{id:"timeseries-logmode",type:"checkbox",checked:"total"===C&&P,className:"switch",disabled:"total"!==C,onChange:function(){D(!P)}}))),m&&h.a.createElement("div",{className:"trends-state-name"},h.a.createElement("select",{value:i.stateCode,onChange:function(t){var e=t.target;o({stateCode:e.value,districtName:null})}},m.map((function(t){return h.a.createElement("option",{value:t,key:t},p("TT"===t?"All States":r.r[t]))}))))),U&&h.a.createElement(O,Object.assign({stateCode:i.stateCode},{timeseries:e,dates:Y,chartType:C,isUniform:R,isLog:P})),h.a.createElement("div",{className:"pills"},Object.values(r.u).map((function(t){return h.a.createElement("button",{key:t,type:"button",className:l()({selected:y===t}),onClick:function(){return S(t)}},p(t))}))))}),(function(t,e){return!!f()(e.regionHighlighted.stateCode,t.regionHighlighted.stateCode)&&(!!f()(e.date,t.date)&&!!f()(e.anchor,t.anchor))}))}}]);
//# sourceMappingURL=1.b604f055.chunk.js.map